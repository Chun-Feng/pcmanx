%define ver @VERSION@
%define rel 1

Name:      pcmanx-gtk2
Version:   %{ver}
Release:   %{rel}%{?dist}
Summary:   user-friendly telnet client designed for BBS browsing.

Group:     Applications/Internet
License:   GPLv2+
Url:       http://code.google.com/p/pcmanx-gtk2/
Source:    http://pcmanx-gtk2.googlecode.com/files/%{name}-%{version}.tar.bz2
Vendor:    PCMan X GTK+ 2 project
Packager:  PCMan X <PCManX@googlegroups.com>

BuildRoot:        %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
BuildRequires:    gtk2-devel, libnotify-devel, libtool-ltdl-devel, intltool
Requires:         gtk2, libnotify, libtool-ltdl, wqy-microhei-fonts, desktop-file-utils
Requires(post):   desktop-file-utils
Requires(postun): desktop-file-utils

%{?!DEBUGINFO:     %define DEBUGINFO    1}
%if !%{DEBUGINFO}
%define debug_package %{nil}
%endif

%description
An easy-to-use telnet client mainly targets BBS users.
PCMan X is a newly developed GPL'd version of PCMan, a full-featured famous BBS
client formerly designed for MS Windows only. It aimed to be an easy-to-use yet
full-featured telnet client facilitating BBS browsing with the ability to
process double-byte characters.

%prep
%setup -q

%build
%configure --enable-iplookup --enable-proxy --enable-libnotify \
%if %{DEBUGINFO}
	--enable-debug \
%endif
;
make %{?_smp_mflags}

%install
rm -rf $RPM_BUILD_ROOT
make install DESTDIR=$RPM_BUILD_ROOT

%clean
rm -rf $RPM_BUILD_ROOT

%files
%defattr(-,root,root,-)
%doc ABOUT-NLS AUTHORS COPYING INSTALL NEWS README TODO
%{_bindir}/pcmanx
%{_datadir}/applications/pcmanx.desktop
%{_datadir}/locale/
%{_datadir}/man/
%{_datadir}/pcmanx/
%{_datadir}/pixmaps/pcmanx.svg

%changelog
